var t={css:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",math:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}},e={math:function(e){return 1-t.math(1-e)}},n={InQuad:{css:"cubic-bezier(.55, .085, .68, .53)",math:function(t){return t*t}},OutQuad:{css:"cubic-bezier(.25, .46, .45, .94)",math:function(t){return t*(2-t)}},InOutQuad:{css:"cubic-bezier(.455, .03, .515, .955)",math:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},InCubic:{css:"cubic-bezier(.550, .055, .675, .19)",math:function(t){return t*t*t}},OutCubic:{css:"cubic-bezier(.215, .61, .355, 1)",math:function(t){return--t*t*t+1}},InOutCubic:{css:"cubic-bezier(.645, .045, .355, 1)",math:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},InQuart:{css:"cubic-bezier(.895, .03, .685, .22)",math:function(t){return t*t*t*t}},OutQuart:{css:"cubic-bezier(.165, .84, .44, 1)",math:function(t){return 1- --t*t*t*t}},InOutQuart:{css:"cubic-bezier(.77, 0, .175, 1)",math:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},InQuint:{css:"cubic-bezier(.755, .05, .855, .06)",math:function(t){return t*t*t*t*t}},OutQuint:{css:"cubic-bezier(.23, 1, .32, 1)",math:function(t){return--t*t*t*t*t+1}},InOutQuint:{css:"cubic-bezier(.86, 0, .07, 1)",math:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},InExpo:{css:"cubic-bezier(.95, .05, .795, .035)",math:function(t){return 0===t?0:Math.pow(1024,t-1)}},OutExpo:{css:"cubic-bezier(.19, 1, .22, 1)",math:function(t){return 1===t?1:1-Math.pow(2,-10*t)}},InOutExpo:{css:"cubic-bezier(1, 0, 0, 1)",math:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},InCirc:{css:"cubic-bezier(.6, .04, .98, .335)",math:function(t){return 1-Math.sqrt(1-t*t)}},OutCirc:{css:"cubic-bezier(.075, .82, .165, 1)",math:function(t){return Math.sqrt(1- --t*t)}},InOutCirc:{css:"cubic-bezier(.785, .135, .15, .86)",math:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},InBack:{css:"cubic-bezier(0.6, -0.28, 0.735, 0.045)",math:function(t){var e=1.70158;return t*t*((e+1)*t-e)}},OutBack:t,InOutBack:{css:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",math:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},InBounce:e,OutBounce:{math:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},InOutBounce:{math:function(n){return n<.5?.5*e.math(2*n):.5*t.math(2*n-1)+.5}},InSine:{math:function(t){return 1-Math.cos(t*Math.PI/2)},css:"cubic-bezier(0.470, 0.000, 0.745, 0.715)"},OutSine:{math:function(t){return Math.sin(t*Math.PI/2)},css:"cubic-bezier(0.390, 0.575, 0.565, 1.000)"},InOutSine:{math:function(t){return.5*(1-Math.cos(Math.PI*t))},css:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},Linear:{css:"linear",math:function(t){return t}}},i=function(){};i.update=function(t){var e=t-i.lastTsl;i.DELTA_TIME=e,i.TIME=performance.now(),i.lastTsl=t;for(var n=i.renders.length-1;n>=0;n--){var o=i.renders[n];o&&o.callback&&o.callback(t,e)}for(var r=i.ticks.length-1;r>=0;r--){var s=i.ticks[r];s.callback&&s.callback(t,e),i.ticks.splice(r,1)}requestAnimationFrame(i.update)},i.init=function(){i.lastTsl=performance.now(),requestAnimationFrame(i.update)},i.tick=function(t){i.ticks.unshift({callback:t})},i.start=function(t,e){void 0===e&&(e=null),i.renders.unshift({callback:t,identifier:e})},i.stop=function(t){var e=i.renders.findIndex(function(e){return e.identifier===t});~e&&i.renders.splice(e,1)},i.init(),i.renders=[],i.ticks=[];var o=function(){};o.generateUid=function(){var t=new Uint32Array(8);window.crypto.getRandomValues(t);for(var e="",n=0;n<t.length;n++)e+=(n<2||n>5?"":"-")+t[n].toString(16).slice(-4);return e};var r=function(){};r.update=function(t,e){for(var n=r.callbacks.length-1;n>=0;n--){var i=r.callbacks[n];i.currentTime+=e,i.currentTime>=i.timeoutTime&&(i.callback(),r.remove(i))}},r.create=function(t,e){var n={callback:t,timeoutTime:e,currentTime:0};return r.callbacks.unshift(n),n},r.remove=function(t){var e=r.callbacks.indexOf(t);-1!==e&&r.callbacks.splice(e,1)},r.__uid__=o.generateUid(),i.start(r.update,r.__uid__),r.callbacks=[];var s=function(){};s.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},s.camelCase=function(t){return s.wordsOf(t).map(function(t,e){return 0===e?t.toLowerCase():s.capitalize(t.toLowerCase())}).join("")},s.kebabCase=function(t){return s.wordsOf(t).map(function(t,e){return t.toLowerCase()}).join("-")},s.wordsOf=function(t){return t.match(/([A-Z][a-z]+)|([a-z]+)|([A-Z]+)/g)};var a=function t(e,n,i,o,r,s,a,u,h){void 0===n&&(n=1),void 0===i&&(i=0),this._el=e,this._duration=n,this._delay=i,this._ease=o,this.onStart=r,this.onComplete=s,this._properties=t.parseProperties(a),this._isPlaying=!1,this._isKilled=!1,this.clearProps=h,this.onCompleteResolveCallback=u,this._startTween()};a.parseTransform=function(t){var e="";return void 0===t.y&&void 0===t.x&&void 0===t.z||(e+="translate3d("+(t.x||0)+"px,"+(t.y||0)+"px,"+(t.z||0)+"px)"),void 0!==t.scale&&(e+="scale("+t.scale+")"),void 0!==t.scaleX&&(e+="scaleX("+t.scaleX+")"),void 0!==t.scaleY&&(e+="scaleY("+t.scaleY+")"),void 0!==t.rotation||void 0!==t.rotationX&&void 0!==t.rotationY?e+="rotate("+(void 0!==t.rotation?t.rotation:t.rotationX)+"deg)":void 0!==t.rotationX?e+="rotate("+t.rotationX+"deg)":void 0!==t.rotationY&&(e+="rotate("+t.rotationY+"deg)"),e.length>0?{transform:e}:{}},a.parseProperties=function(t){var e=a.parseTransform(t),n={};for(var i in t){var o=t[i];"transform"!==a.parsePropFromName(i)&&(n[i]="number"==typeof o&&"opacity"!==i?o+"px":o)}return Object.assign({},e,n)},a.prototype._startTween=function(){try{var t=this;if(!t._el)return;t._isPlaying=!0,t._el.__tween__=t;var e=Object.keys(t._properties),n=e.map(function(e){return s.kebabCase(e)+" "+t._duration+"s "+t._ease.css+" "+t._delay+"s"}).join(","),o=e.map(function(t){return s.kebabCase(t)}).join(",");i.tick(function(){var e;e=setTimeout(function(){for(var i in clearTimeout(e),t._el.style.transition=n,t._el.style.willChange=o,t._properties)t._el.style[i]=t._properties[i];t.onStart&&t.onStart(),r.create(t._onTweenComplete.bind(t),1e3*(t._duration+t._delay))},0)})}catch(t){return Promise.reject(t)}},a.prototype._onTweenComplete=function(){!this._isKilled&&this.onComplete&&this.onComplete(),this.clearProps&&this.clearTransitionProps(),this.onCompleteResolveCallback()},a.prototype.clearTransitionProps=function(){this._el.style.transition="",this._el.style.willChange=""},a.parsePropFromName=function(t){return["x","y","z","rotation","rotationX","rotationY","scale","scaleX","scaleY","scaleZ"].includes(t)?"transform":t},a.prototype._stopTween=function(){this._el.style.willChange="",this._el.__tween__=null},a.prototype._reset=function(){this._el.style.transition="none",this._el.style.willChange="",this._el.__tween__._isKilled=!0,this._el.__tween__._isPlaying=!1};var u=function(){};u.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},u.clamp01=function(t){return u.clamp(t,0,1)},u.degToRad=function(t){return t*Math.PI/180},u.radToDeg=function(t){return 180*t/Math.PI},u.lerp=function(t,e,n){return t+(e-t)*n},u.map=function(t,e,n,i,o){return(t-e)/(n-e)*(o-i)+i},u.toFixed=function(t,e){return parseFloat(t.toFixed(e))},u.roundToNearest=function(t,e){return Math.round(t/e)*e},u.step=function(t,e){return e<t?0:1},u.smoothStep=function(t,e,n){var i=Math.max(0,Math.min(1,(t-e)/(n-e)));return i*i*(3-2*i)},u.mod=function(t,e){return(t%e+e)%e},u.fract=function(t){return t-Math.floor(t)},u.max=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Math.max(t)},u.maxBy=function(t,e){for(var n=t[0][e],i=1,o=t.length;i<o;i++){var r=t[i][e];n=r>n?r:n}return n},u.minBy=function(t,e){for(var n=t[0][e],i=1,o=t.length;i<o;i++){var r=t[i][e];n=r<n?r:n}return n},u.min=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Math.min(t)},u.isOdd=function(t){return!!(1&t)},u.isEven=function(t){return!(1&t)},u.average=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=0,i=0,o=t;i<o.length;i+=1){n+=+o[i]}return n/t.length},u.difference=function(t,e){return Math.abs(t-e)};var h=function(t){void 0===t&&(t={});var e=t.x;void 0===e&&(e=0);var n=t.y;void 0===n&&(n=0),this.x=e,this.y=n},c={magnitude:{configurable:!0},sqrMagnitude:{configurable:!0},angle:{configurable:!0}};c.magnitude.get=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},c.sqrMagnitude.get=function(){return this.x*this.x+this.y*this.y},c.angle.get=function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},h.prototype.clear=function(){return this.x=0,this.y=0,this},h.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},h.prototype.mult=function(t){return this.x*=t.x,this.y*=t.y,this},h.mult=function(t,e){return new h({x:t.x*e.x,y:t.y*e.y})},h.prototype.multScalar=function(t){return this.x*=t,this.y*=t,this},h.multScalar=function(t,e){return new h({x:t.x*e,y:t.y*e})},h.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},h.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},h.sub=function(t,e){return new h({x:t.x-e.x,y:t.y-e.y})},h.subScalar=function(t,e){return new h({x:t.x-e,y:t.y-e})},h.divideScalar=function(t,e){return h.multScalar(t,1/e)},h.add=function(t,e){return new h({x:t.x+e.x,y:t.y+e.y})},h.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},h.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},h.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},h.divide=function(t,e){return new h({x:t.x/e.x,y:t.y/e.y})},h.prototype.divideScalar=function(t){return this.multScalar(1/t)},h.prototype.dot=function(t){return this.x*t.x+this.y*t.y},h.prototype.cross=function(t){return this.x*t.y-this.y*t.x},h.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},h.prototype.map=function(t,e,n,i){return this.x=u.map(this.x,t.x,e.x,n.x,i.x),this.y=u.map(this.y,t.y,e.y,n.y,i.y),this},h.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},h.copy=function(t){return new h({x:t.x,y:t.y})},h.prototype.normalize=function(){return this.divideScalar(this.magnitude||1)},h.abs=function(t){return new h({x:Math.abs(t.x),y:Math.abs(t.y)})},Object.defineProperties(h.prototype,c);var l=function(t){var e=t.damping;void 0===e&&(e=12);var n=t.stiffness;void 0===n&&(n=120);var i=t.mass;void 0===i&&(i=1);this.damping=e,this.stiffness=n,this.mass=i,this.isBelowDisplacementThreshold=!1,this.isBelowVelocityThreshold=!1,this.t=0,this.killed=!1,this.previousPosition=null,this.position=0},d={REST_VELOCITY:{configurable:!0},REST_DELTA:{configurable:!0}};d.REST_VELOCITY.get=function(){return.01},d.REST_DELTA.get=function(){return.01},l.prototype.interpolate=function(t,e){var n=i.DELTA_TIME;this.t+=n,this.previousPosition=null===this.previousPosition?t:this.position;var o=e-t;this.position=t;var r=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),s=Math.sqrt(this.stiffness/this.mass)/1e3;if(r<1){var a=Math.exp(-r*s*this.t),u=s*Math.sqrt(1-r*r);this.position=e-a*((r*s*o-0)/u*Math.sin(u*this.t)+o*Math.cos(u*this.t))}else{var h=Math.exp(-s*this.t);this.position=e-h*(o+(s*o-0)*this.t)}var c=Math.abs((this.position-this.previousPosition)/n*1e3)<=l.REST_VELOCITY,d=Math.abs(e-this.position)<=l.REST_DELTA;return c&&d&&(this.killed=!0),this.position},Object.defineProperties(l,d);var p=function(t,e,i,o,r,s,a,u,h,c,d){if(void 0===e&&(e=1),void 0===i&&(i=0),void 0===o&&(o=n.Linear),void 0===u&&(u=null),void 0===c&&(c=null),void 0===d&&(d=null),this._target=t,this._duration=e,this._delay=i,this._ease=o,this._isPlaying=!1,this._isKilled=!1,!t)throw new Error("Tween must have a non null target");this.properties=u,null===d&&null===c||(this.springAnimation=new l({damping:d,stiffness:c})),this.onStart=r,this.onUpdate=a,this.onComplete=s,this.onCompleteResolveCallback=h};p.prototype.start=function(){this._startValues=this.createStartValues(),this._endValues=this.properties,this._startTime=performance.now(),this._startTime+=1e3*this._delay,R.mathTweens.unshift(this),Object.defineProperty(this._target,"__mathTween__",{value:this,writable:!0}),this.onStart&&this.onStart()},p.prototype.clear=function(){k(this),this._target.__mathTween__=null},p.prototype.stop=function(){k(this),this.onComplete&&this.onComplete(),this.onCompleteResolveCallback()},p.prototype.createStartValues=function(){var t={};for(var e in this._target)this._target.hasOwnProperty(e)&&(t[e]=this._target[e]);return t},p.prototype.update=function(t){t<this._startTime||(this.springAnimation?this.updateSpring(t):this.updateMath(t))},p.prototype.updateMath=function(t){if(!(t<this._startTime)){var e=(t-this._startTime)/(1e3*this._duration);e>1&&(e=1),this.interpolate(e),this.onUpdate&&this.onUpdate(this._target),this._isKilled||1!==e||(this._isKilled=!0,this.stop())}},p.prototype.updateSpring=function(t){this.interpolateSpring((t-this._startTime)/1e3),this.onUpdate&&this.onUpdate(this._target),!this._isKilled&&this.springAnimation.killed&&(this._isKilled=!0,this.stop())},p.prototype.interpolateSpring=function(t){var e=performance.now();for(var n in this._startValues)if(void 0!==this._endValues[n]){var i=this._startValues[n];this._target[n]=this.springAnimation.interpolate(i,void 0===this._endValues[n]?i:this._endValues[n],e-this.lastTime)}this.lastTime=e},p.prototype.interpolate=function(t){var e=this._ease.math(t);for(var n in this._startValues){var i=this._startValues[n];this._target[n]=u.lerp(i,void 0===this._endValues[n]?i:this._endValues[n],e)}return e};var v="-webkit-",f={justifyContent:function(t){return[{key:v+"justify-content",value:t}]},alignItems:function(t){return[{key:v+"align-items",value:t}]},flex:function(t){return[{key:v+"flex",value:t}]},borderRadius:function(t){return[{key:v+"border-radius",value:t}]},transform:function(t){return[{key:v+"transform",value:t}]},transition:function(t){return[{key:v+"transition",value:t.replace("transform",v+"transform").replace("border-radius",v+"border-radius")}]},flexWrap:function(t){return[{key:v+"flex-wrap",value:t}]},display:function(t){return[{key:"display",value:"flex"===t||"inline-flex"===t?""+v+t:t}]}},m=function(){};m.prefix=function(t){for(var e in t){if(f[e])for(var n=f[e](t[e]),i=0;i<n.length;i++){var o=n[i];t[s.camelCase(o.key)]=o.value}}return t};var g=function(){this._events={}};g.prototype.emit=function(t,e){if(this._events[t])for(var n=this._events[t].length-1;n>=0;n--){(0,this._events[t][n])(e)}},g.prototype.on=function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},g.prototype.off=function(t,e){var n=this._events[t].indexOf(e);~n&&this._events[t].splice(n,1)},g.prototype.stop=function(){this._events={}};var y=function(){},_={isMobile:{configurable:!0},orientation:{configurable:!0},hasVRDisplay:{configurable:!0},isWindowsPhone:{configurable:!0},isIos:{configurable:!0},isAndroid:{configurable:!0},isFirefox:{configurable:!0},isSafari:{configurable:!0},isOpera:{configurable:!0},isIE11:{configurable:!0},isEdge:{configurable:!0},isChrome:{configurable:!0},isIE:{configurable:!0},platform:{configurable:!0},language:{configurable:!0},isTouchDevice:{configurable:!0}};_.isMobile.get=function(){return y.isTouchDevice},_.orientation.get=function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"},_.hasVRDisplay.get=function(){return void 0!==navigator.getVRDisplays},_.isWindowsPhone.get=function(){return/windows phone|iemobile|wpdesktop/.test(navigator.userAgent)},_.isIos.get=function(){return!y.isWindowsPhone&&/ip(hone|od|ad)/i.test(navigator.userAgent)&&!window.MSStream},_.isAndroid.get=function(){return!y.isWindowsPhone&&/android/i.test(navigator.userAgent)},_.isFirefox.get=function(){return navigator.userAgent.indexOf("firefox")>-1},_.isSafari.get=function(){return!!navigator.userAgent.match(/version\/[\d\.]+.*safari/)},_.isOpera.get=function(){return!!navigator.userAgent.indexOf("opr")>-1},_.isIE11.get=function(){return!window.ActiveXObject&&"ActiveXObject"in window},_.isEdge.get=function(){return navigator.userAgent.indexOf("edge")>-1},_.isChrome.get=function(){return null!==window.chrome&&void 0!==window.chrome&&"google inc."==navigator.vendor.toLowerCase()&&!y.isOpera&&!y.isEdge},_.isIE.get=function(){return navigator.appVersion.indexOf("msie")>-1||y.isIE11||navigator.appVersion.indexOf("edge")>-1},_.platform.get=function(){return navigator.platform},_.language.get=function(){return window.navigator.userLanguage||window.navigator.language},_.isTouchDevice.get=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},Object.defineProperties(y,_);var b={RESIZE:"RESIZE",POP_STATE:"POP_STATE",WHEEL:"WHEEL"},w=new(function(t){function e(){t.call(this),window.addEventListener(y.isMobile?"touchmove":"mousemove",this._onMouseMove.bind(this)),window.addEventListener(y.isMobile?"touchend":"mouseup",this._onMouseUp.bind(this)),window.addEventListener("contextmenu",this._onContextMenu.bind(this)),window.addEventListener("popstate",this._onPopState.bind(this)),window.addEventListener("resize",this._onResize.bind(this)),window.addEventListener("wheel",this._onWheel.bind(this))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._preventNativeScroll=function(t){t.preventDefault(),t.stopPropagation()},e.prototype._onMouseMove=function(t){this.emit(x.MOVE,t)},e.prototype._onMouseUp=function(t){this.emit(x.DROP,t)},e.prototype._onPopState=function(t){this.emit(b.POP_STATE,t)},e.prototype._onResize=function(t){this.emit(b.RESIZE,t)},e.prototype._onContextMenu=function(t){this.emit(x.DROP,t)},e.prototype._onWheel=function(t){this.emit(b.WHEEL,t)},e}(g)),x={DRAG:"DRAG",ENTER:"ENTER",LEAVE:"LEAVE",MOVE:"MOVE",TOUCH:"TOUCH",DROP:"DROP",CLICK:"CLICK",HOVER_IN:"HOVER_IN",HOVER_OUT:"HOVER_OUT"},T=function(t){function e(e){void 0===e&&(e={});var n=e.target;if(t.call(this),!n)throw new Error("An target is required for a interaction");this._touching=!1,this._hold=new h,this._move=new h,this._origin=new h,this._delta=new h,this._last=new h,this.velocity=new h,this._lastMoveTime=0,this.target=n,this._addEventListeners()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){this._touching=!1,this._hold=new h,this._move=new h,this._origin=new h,this._delta=new h,this._last=new h,this.velocity=new h,this._lastMoveTime=0},e.prototype._addEventListeners=function(){this.target.addEventListener("mouseout",this._onHoverOut.bind(this)),this.target.addEventListener("mouseover",this._onHoverIn.bind(this)),this.target.addEventListener("click",this._onClick.bind(this)),this.target.addEventListener(y.isMobile?"touchstart":"mousedown",this._onMouseDown.bind(this)),w.on(x.MOVE,this._onMouseMove.bind(this)),w.on(x.DROP,this._onMouseUp.bind(this))},e.prototype._removeEventListeners=function(){this.target.addEventListener("mouseout",this._onHoverOut.bind(this)),this.target.addEventListener("mouseover",this._onHoverIn.bind(this)),this.target.removeEventListener(y.isMobile?"touchstart":"mousedown",this._onMouseDown.bind(this)),this.target.removeEventListener("click",this._onClick.bind(this)),w.off(x.MOVE,this._onMouseMove.bind(this)),w.off(x.DROP,this._onMouseUp.bind(this))},e.prototype._onClick=function(t){t.preventDefault(),this.emit(x.CLICK,this)},e.prototype._onHoverIn=function(t){t.preventDefault(),this.emit(x.HOVER_IN)},e.prototype._onHoverOut=function(t){t.preventDefault(),this.emit(x.HOVER_OUT)},e.prototype._onMouseDown=function(t){var e=this._getEventPosition(t);!y.isMobile&&t.cancelable&&t.preventDefault(),this._touching=!0,this._origin=h.copy(e),this._hold=h.copy(this._move),this._last=h.copy(e),this.velocity.multScalar(0),this._lastMoveTime=i.TIME,this.emit(x.TOUCH,this)},e.prototype._onMouseUp=function(t){this._touching&&(this._touching=!1,this.emit(x.DROP,this)),this._delta.multScalar(0)},e.prototype._onMouseMove=function(t){var e=this._getEventPosition(t),n=performance.now();this.velocity=h.divideScalar(this._delta,n-this._lastMoveTime).multScalar(1e3),this._lastMoveTime=n,this._touching&&(this._move.x=this._hold.x+e.x-this._origin.x,this._move.y=this._hold.y+e.y-this._origin.y,this._delta.x=e.x-this._last.x,this._delta.y=e.y-this._last.y,this._last.x=e.x,this._last.y=e.y,this.emit(x.DRAG,this)),this.emit(x.MOVE,this)},e.prototype._getEventPosition=function(t){return new h(t.touches||t.changedTouches?t.touches.length?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.pageX,y:t.pageY})},e}(g),E=function(t){void 0===t&&(t={}),this.props=t,this.__uid__=o.generateUid(),this.onAwake&&this.onAwake()};E.prototype.destroy=function(){this.onUpdate&&i.stop(this.__uid__),this.__el__.getComponents(this.__el__).map(function(t){t.destroy()}),this.onDestroy&&this.onDestroy()},E.prototype.__startRender__=function(){if(!this.render)throw new Error("Render function is required");if(this.__el__=this.render(),this.__el__ instanceof E){var t=this.__el__.render();this.__el__.onStart&&this.__el__.onStart(),this.__el__.onUpdate&&i.start(this.__el__.onUpdate.bind(this.__el__),this.__uid__),this.__el__=t}if(!this.__el__)throw new Error("Render function must return an element");this.onUpdate&&i.start(this.onUpdate.bind(this),this.__uid__),this.onResize&&this.onResize()};var C=function(t){this.props=t,this.el=this.render(t),this._children=[],this.parentNode=null,this.addChildren(t.children),this._interaction=new T({target:this.el}),this._addEventListeners(t.events)},P={height:{configurable:!0},width:{configurable:!0}};P.height.get=function(){return this.el.clientHeight},P.width.get=function(){return this.el.clientWidth},C.getEl=function(t){return void 0!==t.el?t.el:t},C.prototype.set=function(t){void 0===t&&(t={}),R.set(Object.assign({},{el:this.el},t))},C.prototype._renderAttributes=function(t,e){this.props.shortcuts.content||(t.textContent=e.text),e.name&&t.classList.add(e.name),e.href&&t.setAttribute("href",e.href)},C.prototype.getBoundingClientRect=function(){return this.el.getBoundingClientRect()},C.prototype.getComponents=function(t){for(var e=[],n=0,i=t._children;n<i.length;n+=1){var o=i[n];o instanceof E?e.push(o):e=e.concat(this.getComponents(o))}return e},C.prototype._renderShortcuts=function(t,e){e.cx&&O.set({el:t,display:"flex",justifyContent:"center"}),e.cy&&O.set({el:t,display:"flex",alignItems:"center"}),e.centered&&O.set({el:t,display:"flex",alignItems:"center",justifyContent:"center"}),e.col?O.set({el:t,display:"flex",flexDirection:"column"}):e.row&&O.set({el:t,display:"flex",flexDirection:"row"})},C.prototype._renderCss=function(t,e){O.set(Object.assign({},{el:t},e))},C.prototype.render=function(t){var e=null;if("svg"===t.type){var n=document.createElement("div");n.innerHTML=t.shortcuts.content,e=n.firstChild}else e=document.createElement(t.type);return this._renderAttributes(e,t.attributes),this._renderShortcuts(e,t.shortcuts),this._renderCss(e,t.css),e},C.prototype.addChildren=function(t){for(var e=0,n=t;e<n.length;e+=1){this.add(n[e])}},C.prototype.add=function(t){t instanceof E?(t.__startRender__(),this.el.appendChild(t.__el__.el),this._children.push(t),t.__el__.parentNode=this,t.onStart&&t.onStart()):(this.el.appendChild(t.el),t.parentNode=this,this._children.push(t))},C.prototype.text=function(t){this.el.textContent=t},C.prototype.remove=function(){this.el.parentNode&&this.el.parentNode.removeChild(this.el)},C.prototype.clearChildren=function(){for(var t=0,e=0,n=this._children;e<n.length;e+=1){var i=n[e];i instanceof E?(i.__el__.destroy(),i.destroy(),this._children.splice(t,1)):(i.destroy(),this._children.splice(t,1)),t++}},C.prototype.replaceChild=function(t){this.clearChildren(),this.add(t)},C.prototype.destroy=function(){this.remove(),this._removeEventListeners(this.props.events)},C.prototype._addEventListeners=function(t){t.onDrag&&this._interaction.on(x.DRAG,t.onDrag),t.onTouch&&this._interaction.on(x.TOUCH,t.onTouch),t.onDrop&&this._interaction.on(x.DROP,t.onDrop),t.onMove&&this._interaction.on(x.MOVE,t.onMove),t.onClick&&this._interaction.on(x.CLICK,t.onClick),t.onHoverIn&&this._interaction.on(x.HOVER_IN,t.onHoverIn),t.onHoverOut&&this._interaction.on(x.HOVER_OUT,t.onHoverOut)},C.prototype._removeEventListeners=function(t){t.onDrag&&this._interaction.off(x.DRAG,t.onDrag),t.onTouch&&this._interaction.off(x.TOUCH,t.onTouch),t.onDrop&&this._interaction.off(x.DROP,t.onDrop),t.onMove&&this._interaction.off(x.MOVE,t.onMove),t.onClick&&this._interaction.off(x.CLICK,t.onClick),t.onHoverIn&&this._interaction.off(x.HOVER_IN,t.onHoverIn),t.onHoverOut&&this._interaction.off(x.HOVER_OUT,t.onHoverOut)},Object.defineProperties(C.prototype,P);var O=function(){};function S(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===e.indexOf(i)&&(n[i]=t[i]);return n}O.set=function(t){var e=t.el;void 0===e&&(e=null);var n=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===e.indexOf(i)&&(n[i]=t[i]);return n}(t,["el"]);if(!e)throw new Error("Missing target element");(e=C.getEl(e)).__tween__&&e.__tween__._reset();var i=O.parseProperties(n),o=m.prefix(i);for(var r in o)e.style[r]=o[r]},O.parseTransform=function(t){var e="";return void 0===t.y&&void 0===t.x&&void 0===t.z||(e+="translate3d("+(t.x||0)+"px,"+(t.y||0)+"px,"+(t.z||0)+"px)"),void 0!==t.scale||void 0!==t.scaleX&&void 0!==t.scaleY?e+="scale("+(void 0!==t.scale?t.scale:t.scaleX)+")":void 0!==t.scaleX?e+="scaleX("+t.scaleX+")":void 0!==t.scaleY&&(e+="scaleY("+t.scaleY+")"),void 0!==t.rotation?e+="rotate("+t.rotation+"deg)":void 0!==t.rotationX&&(e+="rotateX("+t.rotationX+"deg)"),void 0!==t.rotationY&&(e+="rotateY("+t.rotationY+"deg)"),{transform:e}},O.parsePropFromName=function(t){return["x","y","z","rotation","rotationX","rotationY","scale","scaleX","scaleY","scaleZ"].includes(t)?"transform":t},O.parseProperties=function(t){var e=O.parseTransform(t),n={};for(var i in t){var o=t[i];null!==o&&("transform"!==O.parsePropFromName(i)&&(n[i]="number"==typeof o&&"opacity"!==i&&"zIndex"!==i?o+"px":o))}return Object.assign({},e,n)};var R=function(){};function k(t){var e=R.mathTweens.indexOf(t);~e&&R.mathTweens.splice(e,1)}R._tween=function(t){var e=t.el,i=t.obj;void 0===i&&(i=null);var o=t.duration,r=t.delay;void 0===r&&(r=0);var s=t.stiffness;void 0===s&&(s=null);var u=t.damping;void 0===u&&(u=null);var h=t.ease;void 0===h&&(h=n.Linear);var c=t.onStart,l=t.onComplete,d=t.onUpdate,v=t.resolve,f=S(t,["el","obj","duration","delay","stiffness","damping","ease","onStart","onComplete","onUpdate","resolve"]);e&&!(e instanceof C)&&1!==e.nodeType||null!==i?new p(void 0!==e?e:i,o,r,h,c,l,d,f,v,s,u).start():(e=C.getEl(e),new a(e,o,r,h,c,l,f,v))},R.to=function(t){var e=t.el,i=t.obj;void 0===i&&(i=null);var o=t.duration,r=t.delay;void 0===r&&(r=0);var s=t.stiffness;void 0===s&&(s=null);var a=t.damping;void 0===a&&(a=null);var u=t.ease;void 0===u&&(u=n.Linear);var h=t.onStart,c=t.onComplete,l=t.onUpdate,d=S(t,["el","obj","duration","delay","stiffness","damping","ease","onStart","onComplete","onUpdate"]);return new Promise(function(t,n){if(Array.isArray(e))for(var p=0,v=e;p<v.length;p+=1){R._tween(Object.assign({},{el:v[p],obj:i,duration:o,delay:r,stiffness:s,damping:a,ease:u,onStart:h,onComplete:c,onUpdate:l,resolve:t},d))}else R._tween(Object.assign({},{el:e,obj:i,duration:o,delay:r,stiffness:s,damping:a,ease:u,onStart:h,onComplete:c,onUpdate:l,resolve:t},d))})},R.clear=function(t){t&&t.__mathTween__&&t.__mathTween__.clear()},R.fromTo=function(t,e,n){try{return t=C.getEl(t),R.set(Object.assign({},{el:t},e)),Promise.resolve(R.to(Object.assign({},{el:t},n)))}catch(t){return Promise.reject(t)}},R.delayedCall=function(t,e){try{r.create(t,e)}catch(t){return Promise.reject(t)}},R.set=function(t){var e=t.el,n=S(t,["el"]);e=C.getEl(e);var i=[].concat(e);0===i.length&&(i=[e]);for(var o=0,r=i;o<r.length;o+=1){O.set(Object.assign({},{el:r[o]},n))}},R.__uid__=o.generateUid(),R.mathTweens=[],i.start(function(t){for(var e=R.mathTweens.length-1;e>=0;e--){var n=R.mathTweens[e];n&&n.update(t)}},R.__uid__);var M=function t(){this.elements=t.identity},D={zero:{configurable:!0},identity:{configurable:!0}};D.zero.get=function(){return[0,0,0,0,0,0,0,0,0]},D.identity.get=function(){return[1,0,0,0,1,0,0,0,1]},M.prototype.multiply=function(t){var e=this.elements[0],n=this.elements[3],i=this.elements[6],o=this.elements[1],r=this.elements[4],s=this.elements[7],a=this.elements[2],u=this.elements[5],h=this.elements[8],c=t[0],l=t[3],d=t[6],p=t[1],v=t[4],f=t[7],m=t[2],g=t[5],y=t[8];return this.elements[0]=e*c+n*p+i*m,this.elements[3]=e*l+n*v+i*g,this.elements[6]=e*d+n*f+i*y,this.elements[1]=o*c+r*p+s*m,this.elements[4]=o*l+r*v+s*g,this.elements[7]=o*d+r*f+s*y,this.elements[2]=a*c+u*p+h*m,this.elements[5]=a*l+u*v+h*g,this.elements[8]=a*d+u*f+h*y,this.elements},M.prototype.determinant=function(){var t=this.elements[0],e=this.elements[1],n=this.elements[2],i=this.elements[3],o=this.elements[4],r=this.elements[5],s=this.elements[6],a=this.elements[7],u=this.elements[8];return t*o*u-t*r*a-e*i*u+e*r*s+n*i*a-n*o*s},Object.defineProperties(M,D);var L=function(t){void 0===t&&(t={});var e=t.r;void 0===e&&(e=1);var n=t.g;void 0===n&&(n=1);var i=t.b;void 0===i&&(i=1);var o=t.a;void 0===o&&(o=1),this.r=e,this.g=n,this.b=i,this.a=o};L.prototype.overlay=function(t){void 0===t&&(t={});var e=t.onTopOf;return void 0===e&&(e=new L),new L({r:(1-this.a)*e.r+this.a*this.r,g:(1-this.a)*e.g+this.a*this.g,b:(1-this.a)*e.b+this.a*this.b})};var I=function(){this.position=new h,this.normal=new h,this.tilt=new h,this.inverseNormal=new h,w.on(x.MOVE,this.onPositionChanged.bind(this)),w.on(x.TOUCH,this.onPositionChanged.bind(this))};I.prototype.normalize3D=function(){return{x:this.position.x/window.innerWidth*2-1,y:-this.position.y/window.innerHeight*2+1}},I.prototype.onPositionChanged=function(t){this.position=h.copy(t),this.normal=h.divide(t,new h({x:window.innerWidth,y:window.innerHeight})),this.tilt.x=2*this.normal.x-1,this.tilt.y=1-2*this.normal.y,this.inverseNormal.x=this.normal.x,this.inverseNormal.y=1-this.normal.y};var A=new I;function j(t){void 0===t&&(t={});var e=t.centered;void 0===e&&(e=!1);var n=t.cx;void 0===n&&(n=!1);var i=t.cy;void 0===i&&(i=!1);var o=t.type;void 0===o&&(o="div");var r=t.onDrag;void 0===r&&(r=null);var s=t.onTouch;void 0===s&&(s=null);var a=t.onDrop;void 0===a&&(a=null);var u=t.onMove;void 0===u&&(u=null);var h=t.onClick;void 0===h&&(h=null);var c=t.onHoverIn;void 0===c&&(c=null);var l=t.onHoverOut;void 0===l&&(l=null);var d=t.text;void 0===d&&(d=null);var p=t.children;void 0===p&&(p=[]);var v=t.name;void 0===v&&(v=null);var f=t.col;void 0===f&&(f=!1);var m=t.row;void 0===m&&(m=!1);var g=t.height;void 0===g&&(g=null);var y=t.width;void 0===y&&(y=null);var _=t.x;void 0===_&&(_=0);var b=t.y;void 0===b&&(b=0);var w=t.z;void 0===w&&(w=0);var x=t.scale;void 0===x&&(x=1);var T=t.scaleX;void 0===T&&(T=1);var E=t.scaleY;void 0===E&&(E=1);var P=t.rotation;void 0===P&&(P=0);var O=t.rotationX;void 0===O&&(O=0);var S=t.rotationY;void 0===S&&(S=0);var R=t.borderRadius;void 0===R&&(R=null);var k=t.backgroundColor;void 0===k&&(k=null);var M=t.background;void 0===M&&(M=null);var D=t.margin;void 0===D&&(D=null);var L=t.marginTop;void 0===L&&(L=null);var I=t.marginLeft;void 0===I&&(I=null);var A=t.marginBottom;void 0===A&&(A=null);var j=t.marginRight;void 0===j&&(j=null);var z=t.padding;void 0===z&&(z=null);var V=t.paddingTop;void 0===V&&(V=null);var U=t.paddingLeft;void 0===U&&(U=null);var H=t.paddingBottom;void 0===H&&(H=null);var Y=t.paddingRight;void 0===Y&&(Y=null);var G=t.position;void 0===G&&(G=null);var F=t.top;void 0===F&&(F=null);var W=t.left;void 0===W&&(W=null);var q=t.right;void 0===q&&(q=null);var B=t.bottom;void 0===B&&(B=null);var N=t.fontSize;void 0===N&&(N=null);var X=t.fontWeight;void 0===X&&(X=null);var Q=t.opacity;void 0===Q&&(Q=null);var $=t.color;void 0===$&&($=null);var Z=t.overflow;void 0===Z&&(Z=null);var K=t.href;void 0===K&&(K=null);var J=t.textTransform;void 0===J&&(J=null);var tt=t.textAlign;void 0===tt&&(tt=null);var et=t.maxWidth;void 0===et&&(et=null);var nt=t.perspective;void 0===nt&&(nt=null);var it=t.element;void 0===it&&(it=null);var ot=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===e.indexOf(i)&&(n[i]=t[i]);return n}(t,["centered","cx","cy","type","onDrag","onTouch","onDrop","onMove","onClick","onHoverIn","onHoverOut","text","children","name","col","row","height","width","x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","borderRadius","backgroundColor","background","margin","marginTop","marginLeft","marginBottom","marginRight","padding","paddingTop","paddingLeft","paddingBottom","paddingRight","position","top","left","right","bottom","fontSize","fontWeight","opacity","color","overflow","href","textTransform","textAlign","maxWidth","perspective","element"]);return new C({type:o,attributes:{text:d,name:v,href:K},element:it,events:{onDrag:r,onTouch:s,onDrop:a,onMove:u,onClick:h,onHoverIn:c,onHoverOut:l},shortcuts:{centered:e,cx:n,cy:i,col:f,row:m},css:Object.assign({},{height:g,width:y,x:_,y:b,z:w,scale:x,scaleX:T,scaleY:E,rotation:P,rotationX:O,rotationY:S,borderRadius:R,backgroundColor:k,background:M,margin:D,marginBottom:A,marginLeft:I,marginRight:j,marginTop:L,padding:z,paddingBottom:H,paddingLeft:U,paddingRight:Y,paddingTop:V,position:G,top:F,left:W,right:q,bottom:B,fontSize:N,fontWeight:X,opacity:Q,color:$,overflow:Z,textTransform:J,textAlign:tt,maxWidth:et,perspective:nt},ot),children:p})}var z={webgl:function(){try{var t=document.createElement("canvas"),e=!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"));if(null!=e)return!0}catch(t){return!1}},flexbox:function(){var t=Object.keys(m.prefix({flexWrap:"wrap"}));for(var e in t){if(t.hasOwnProperty(e))if(void 0!==document.documentElement.style[t[e]])return!0}return!1},webaudio:function(){return void 0!==window.AudioContext||void 0!==window.webkitAudioContext}},V=function(){};V.isCompatible=function(t){return t.reduce(function(t,e){return z[e]()},!0)};var U=function(){};U.render=function(t){void 0===t&&(t={});var e=t.el,n=t.component,i=t.requirements;void 0===i&&(i=[]);var o=t.fallback;if(void 0===o&&(o=null),void 0===e)throw new Error("Missing $element");o&&!V.isCompatible(i)&&(n=o),n.__startRender__(),e.appendChild(n.__el__.el),n.onStart&&n.onStart()};var H=function(t){function e(e){var n=e.routes;void 0===n&&(n=[]),t.call(this,{}),U.router=this,this.query={},this.routes=n,this.fetchedRoute=null;for(var i=this.routes.length-1;i>=0;i--){var o=this.routes[i];"*"!==o.path&&(o.paramsGroupNames=this._getParamsGroupNames(o.path),o.regex=new RegExp(o.path.replace(/\/(:([a-zA-Z0-9_\-]+))/g,"/([a-zA-Z0-9_-]+)").replace(/\//g,"\\/")+"$"))}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={$route:{configurable:!0}};return e.prototype._initializeRoutes=function(){for(var t=!0,e=this.routes.length-1;e>=0;e--){if(t=this._checkCurrentRouteState(this.routes[e],window.location.pathname))break}if(!t){var n=this.routes.find(function(t){return"*"===t.path});n&&this._changeRouteComponent(n,window.location.pathname)}},n.$route.get=function(){for(var t=this.routes.length-1;t>=0;t--){var e=this.routes[t];if(e.regex&&e.regex.test(window.location.pathname))return e}},e.prototype._getParamsGroupNames=function(t){for(var e,n=[],i=new RegExp(":([a-zA-Z0-9_]+)","g");e=i.exec(t);)n.push(e[1]);return n},e.prototype._getParamsGroupValues=function(t,e){return e.match(t).slice(1)},e.prototype._getParams=function(t,e){var n=this;return t.paramsGroupNames.reduce(function(i,o,r){return i[o]=n._getParamsGroupValues(t.regex,e)[r],i},{})},e.prototype._addEventListeners=function(){w.on(b.POP_STATE,this._onPopState.bind(this))},e.prototype._removeEventListeners=function(){w.off(b.POP_STATE,this._onPopState.bind(this))},e.prototype._onPopState=function(t){var e=this.routes.find(function(t){return t.regex&&t.regex.test(window.location.pathname)});e&&this._changeRouteComponent(e,window.location.pathname)},e.prototype._checkCurrentRouteState=function(t,e,n){return void 0===n&&(n=!1),!(!t.regex||!t.regex.test(e))&&(n?this._fetchRouteComponent(t,e):this._changeRouteComponent(t,e),!0)},e.prototype._changeRouteComponent=function(t,e){U.router.query=this._getParams(t,e);var n=new t.component;this.$el.replaceChild(n),R.set({el:n.__el__,position:"absolute",top:0,left:0})},e.prototype._fetchRouteComponent=function(t,e){if(!this.fetchedRoute||this.fetchedRoute.route!==t){U.router.query=this._getParams(t,e);var n=new t.component;return n.isTransition=!0,this.$el.add(n),R.set({el:n.__el__,position:"absolute",top:0,left:0,pointerEvents:"none"}),this.fetchedRoute={route:t,path:e,el:n.__el__},n}},e.prototype.fetch=function(t){if(t!==window.location.pathname){for(var e=null,n=this.routes.length-1;n>=0;n--){var i=this.routes[n];if(i.regex&&i.regex.test(t)){e=this._fetchRouteComponent(i,t);break}}return e}},e.prototype.showFromFetch=function(){R.set({el:this.fetchedRoute.el,opacity:1,pointerEvents:"all"}),window.history.pushState({},null,this.fetchedRoute.path);for(var t=0,e=0,n=this.$el._children;e<n.length;e+=1){var i=n[e];i!==this.fetchedRoute.el&&(i.__el__.remove(),i.destroy(),this.$el._children.splice(t,1)),t++}this.fetchedRoute=null},e.prototype.push=function(t){if(t!==window.location.pathname){for(var e=!0,n=this.routes.length-1;n>=0;n--){if(e=this._checkCurrentRouteState(this.routes[n],t)){window.history.pushState({},null,t);break}}if(!e){var i=this.routes.find(function(t){return"*"===t.path});i&&(window.history.pushState({},null,t),this._changeRouteComponent(i,t))}}},e.prototype.onStart=function(){this._initializeRoutes(),this._addEventListeners()},e.prototype.render=function(){return this.$el=j({position:"relative",width:"100%",height:"100%"})},Object.defineProperties(e.prototype,n),e}(E),Y=function(t){function e(e){if(void 0===e&&(e={}),t.call(this,e),!this.props.path)throw new Error("You must specified a path to add a route component")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.render=function(){return this.$el=j(Object.assign({},{type:"a",href:this.props.path},this.props,{onTouch:this._pushRoute.bind(this),children:this.props.children}))},e.prototype._pushRoute=function(){U.router.push(this.props.path)},e}(E),G=function(){this.x=0,this.y=0,this.z=0,this.alpha=0,this.beta=0,this.gamma=0,this.start()};G.prototype.start=function(){this._addEventListeners()},G.prototype.stop=function(){},G.prototype._addEventListeners=function(){window.addEventListener("deviceorientation",this._onDeviceOrientation.bind(this)),window.addEventListener("devicemotion",this._onDeviceMotion.bind(this))},G.prototype._onDeviceMotion=function(t){if(t.accelerationIncludingGravity)switch(window.orientation){case 0:this.x=-t.accelerationIncludingGravity.x,this.y=t.accelerationIncludingGravity.y,this.z=t.accelerationIncludingGravity.z;break;case 180:this.x=t.accelerationIncludingGravity.x,this.y=-t.accelerationIncludingGravity.y,this.z=t.accelerationIncludingGravity.z;break;case 90:this.x=t.accelerationIncludingGravity.y,this.y=t.accelerationIncludingGravity.x,this.z=t.accelerationIncludingGravity.z;break;case-90:this.x=-t.accelerationIncludingGravity.y,this.y=-t.accelerationIncludingGravity.x,this.z=t.accelerationIncludingGravity.z}},G.prototype._onDeviceOrientation=function(t){switch(window.orientation){case 0:this.alpha=t.beta,this.beta=t.alpha,this.gamma=t.gamma;break;case 180:this.alpha=-t.beta,this.beta=t.alpha,this.gamma=t.gamma;break;case 90:this.alpha=t.alpha,this.beta=t.beta,this.gamma=t.gamma;break;case-90:this.alpha=-t.alpha,this.beta=-t.beta,this.gamma=-t.gamma}};var F=function(t){void 0===t&&(t={});var e=t.el;void 0===e&&(e=null);var n=t.min;void 0===n&&(n=null);var i=t.max;void 0===i&&(i=null);var o=t.axis;void 0===o&&(o=["y"]);var r=t.usePhysics;void 0===r&&(r=!1),e||(e=document.body),this.position=new h,this.delta=new h,this.velocity=new h,this.usePhysics=r,this.min=n,this.max=i,this.el=e,this.axis=o,this.interaction=new T({target:C.getEl(e)}),this.overdragCoefficient=.35,this.target=new h,this.decelerationVelocity=new h,this.decelerationAmplitude=new h,this.decelerationElapsedTime=0,this.decelerationDuration=300,this._violationConstraint={x:null,y:null},this._addEventListeners()},W={violatedConstraint:{configurable:!0}};W.violatedConstraint.get=function(){return null!==this._violationConstraint.x||null!==this._violationConstraint.y},F.prototype._checkBounds=function(){for(var t=0;t<this.axis.length;t++){var e=this.axis[t],n=!!this.max&&this.position[e]>this.max[e];n||!!this.min&&this.position[e]<this.min[e]?(this.interaction._delta[e]*=this.overdragCoefficient,this._violationConstraint[e]=n?this.max[e]:this.min[e]):this._violationConstraint[e]=null}},F.prototype._animateConstraintViolation=function(){for(var t={obj:this.position,duration:.4,ease:n.OutQuint},e=0,i=this.axis;e<i.length;e+=1){var o=i[e];null!==this._violationConstraint[o]&&(t[o]=this._violationConstraint[o])}R.to(t)},F.prototype.onUpdate=function(){this.velocity.y=this.interaction._delta.y*(i.DELTA_TIME?1e3/i.DELTA_TIME:0),this.isDecelerating?(this._decelerate(),this._checkBounds(),null===this._violationConstraint.x&&null===this._violationConstraint.y||(this._animateConstraintViolation(),this.isDecelerating=!1)):(this.position.add(this.delta),this.delta.multScalar(0))},F.prototype._decelerate=function(){this.decelerationElapsedTime+=i.DELTA_TIME;var t=h.multScalar(this.decelerationAmplitude,-Math.exp(-this.decelerationElapsedTime/this.decelerationDuration)),e=t.x>.5||t.x<-.5||(t.y>.5||t.y<-.5);e?this.position=h.add(this.decelerationEndPosition,t):this.position.copy(this.decelerationEndPosition),e||(this.isDecelerating=!1)},F.prototype._addEventListeners=function(){this.interaction.on(x.TOUCH,this._onTouch.bind(this)),this.interaction.on(x.DROP,this._onDrop.bind(this)),this.interaction.on(x.DRAG,this._onDrag.bind(this)),w.on(b.WHEEL,this._onScroll.bind(this)),i.start(this.onUpdate.bind(this))},F.prototype._removeEventListeners=function(){this.interaction.off(x.TOUCH,this._onTouch.bind(this)),this.interaction.off(x.DROP,this._onDrop.bind(this)),this.interaction.off(x.DRAG,this._onDrag.bind(this)),w.off(b.WHEEL,this._onScroll.bind(this)),i.stop(this.onUpdate.bind(this))},F.prototype._onTouch=function(){R.clear(this.position),this._clearDeceleration()},F.prototype._clearDeceleration=function(){this.isDecelerating=!1,this.decelerationElapsedTime=0},F.prototype._onDrop=function(t){this.violatedConstraint?this._animateConstraintViolation():this.usePhysics&&(this.isDecelerating=!0,this.decelerationVelocity.copy(this.velocity),this.decelerationElapsedTime=0,this.decelerationAmplitude=h.multScalar(this.decelerationVelocity,.8),this.decelerationEndPosition=h.add(this.position,this.decelerationAmplitude))},F.prototype._onDrag=function(t){this.usePhysics&&this._checkBounds(),this.delta.copy(t._delta)},F.prototype.scrollTo=function(t,e){void 0===e&&(e={});var i=e.duration;void 0===i&&(i=1);var o=e.delay;void 0===o&&(o=0);var r=e.ease;void 0===r&&(r=n.OutQuint),R.to(Object.assign({},{el:this.position},t,{duration:i,delay:o,ease:r}))},F.prototype._onScroll=function(t){var e=t.deltaX;this.delta.y+=t.deltaY,this.delta.x+=e,this.delta.multScalar(.9).multScalar(-1)},Object.defineProperties(F.prototype,W);var q=function(t){this.props=t};q.prototype.draw=function(){},q.prototype.update=function(){};var B=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.width=e.width||window.innerWidth,this.height=e.height||window.innerHeight,this.children=[],this._addChildren(e.children),delete e.children}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.onStart=function(){this._setDimensions(),this.ctx=this.$canvas.el.getContext("2d"),this._addEvents()},e.prototype._addChildren=function(t){void 0===t&&(t=[]);for(var e=t.length-1;e>=0;e--){this.add(t[e])}},e.prototype._removeEvents=function(){w.off(b.RESIZE,this._onResize.bind(this))},e.prototype._addEvents=function(){w.on(b.RESIZE,this._onResize.bind(this))},e.prototype.onDestroy=function(){this._removeEvents()},e.prototype.onUpdate=function(){this.clear();for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];e instanceof q&&(e.update&&e.update(),e.draw&&e.draw(this.ctx))}},e.prototype._setDimensions=function(){this.$canvas.el.width=this.width,this.$canvas.el.height=this.height},e.prototype._onResize=function(){this._setDimensions()},e.prototype.render=function(){return this.$canvas=j(Object.assign({},{type:"canvas"},this.props))},e.prototype.add=function(t){this.children.unshift(t)},e.prototype.remove=function(t){var e=this.children.indexOf(t);~e&&this.children.splice(e,1)},e.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},e.prototype.toDataUrl=function(t,e){return this.$canvas.el.toDataURL(t,e)},e}(E),N=function(t){void 0===t&&(t={});var e=t.volume;void 0===e&&(e=1);var n=t.loop;void 0===n&&(n=!1);var i=t.retrig;void 0===i&&(i=!1);var o=t.url;void 0===o&&(o=null);var r=t.playbackRate;void 0===r&&(r=1);var s=t.destination;void 0===s&&(s=null);var a=t.name;void 0===a&&(a=null);var u=t.loadGroup;void 0===u&&(u=null),this.loaded=!1,this.playing=!1,this.volume=e,this.loop=n,this.retrig=i,this.source=J.context.createBufferSource(),this.source.loop=n,this.url=o,this.name=a,this.source.buffer=J.audios[this.name].buffer,this.loadGroup=u,this.playbackRate=r,this.gainOutput=J.context.createGain(),this.destinationOutput=s,this.addEvents()};N.prototype.connect=function(){this.source.connect(this.gainOutput),this.gainOutput.connect(this.destinationOutput)},N.prototype.disconnect=function(){this.gainOutput.disconnect(this.destinationOutput)},N.loadBuffer=function(t){try{return new Promise(function(e,n){fetch(J.audios[t].url).then(function(t){return t.arrayBuffer()}).then(function(t){return J.context.decodeAudioData(t)}).then(function(n){J.audios[t].buffer=n,J.audios[t].loaded=!0,e()}).catch(function(t){return console.log(t)})})}catch(t){return Promise.reject(t)}},N.prototype.start=function(t){void 0===t&&(t=0);try{var e=this;function n(){e.connect(),e.source.start(t)}var i=function(){if(!J.audios[e.name].loaded)return Promise.resolve(e.loadBuffer()).then(function(){})}();return i&&i.then?i.then(n):n()}catch(t){return Promise.reject(t)}},N.prototype.stop=function(t){void 0===t&&(t=0),this.source.stop(t)},N.prototype.onEnded=function(){this.removeEvents(),this.disconnect(),clearTimeout(this.inTimeout),clearTimeout(this.outTimeout)},N.prototype.addEvents=function(){this.source.addEventListener("ended",this.onEnded.bind(this))},N.prototype.removeEvents=function(){this.source.removeEventListener("ended",this.onEnded.bind(this))},N.prototype.fadeOutAndStop=function(t){var e=this;void 0===t&&(t={});var n=t.duration;void 0===n&&(n=4);var i=t.delay;void 0===i&&(i=0),this.outTimeout=setTimeout(function(){e.gainOutput.gain.linearRampToValueAtTime(0,J.context.currentTime+n),e.stop(J.context.currentTime+n),console.log("STOPED "+e.name),clearTimeout(e.outTimeout)},1e3*i)},N.prototype.fadeInAndStart=function(t){var e=this;void 0===t&&(t={});var n=t.duration;void 0===n&&(n=4);var i=t.delay;void 0===i&&(i=0),this.inTimeout=setTimeout(function(){e.gainOutput.gain.setValueAtTime(0,J.context.currentTime),e.gainOutput.gain.linearRampToValueAtTime(e.volume,J.context.currentTime+n),e.start(),clearTimeout(e.inTimeout)},1e3*i)};var X=function t(e){void 0===e&&(e={});var n=e.type;void 0===n&&(n=t.FILTER_TYPE.LOW_PASS_FILTER);var i=e.frequency;void 0===i&&(i=null);var o=e.gain;void 0===o&&(o=0);var r=e.Q;void 0===r&&(r=0);var s=e.name;void 0===s&&(s=null),this.name=s,this.output=J.context.createBiquadFilter(),this.output.type=t.FILTER_TYPE[n],this.output.Q.value=r,this.output.frequency.value=i,this.output.gain.value=o},Q={FILTER_TYPE:{configurable:!0}};Q.FILTER_TYPE.get=function(){return{LOW_PASS_FILTER:"lowpass",HIGH_PASS_FILTER:"highpass"}},X.prototype.modulateCutoff=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.output.frequency.setValueAtTime(this.output.frequency.value,J.context.currentTime),this.output.frequency.linearRampToValueAtTime(t,J.context.currentTime+e)},Object.defineProperties(X,Q);var $={LOW_PASS_FILTER:X,HIGH_PASS_FILTER:X},Z=function(t){void 0===t&&(t={});var e=t.volume;void 0===e&&(e=1);var n=t.name;void 0===n&&(n=null);var i=t.effects;void 0===i&&(i=[]);var o=t.audios;void 0===o&&(o=[]);var r=t.destination;for(var s in void 0===r&&(r=null),this.volume=e,this.name=n,this.effects=[],this.gainOutput=J.context.createGain(),this.destinationOutput=r,this.audios=o,o)J.audios[s]=o[s],J.audios[s].loaded=!1,J.audios[s].destination=this.gainOutput;for(var a=0,u=i;a<u.length;a+=1){var h=u[a],c=new $[h.type](h);this.effects.push(c)}this.gainOutput.gain.value=this.volume,this.connect()};Z.prototype.connect=function(){for(var t=this.gainOutput,e=0,n=this.effects;e<n.length;e+=1){var i=n[e];t.connect(i.output),t=i.output}t.connect(this.destinationOutput)},Z.prototype.disconnect=function(){this.gainOutput.disconnect(this.destinationOutput)},Z.prototype.solo=function(){for(var t=0;t<J.channels.length;t++){var e=J.channels[t];e!==this?e.mute():this.unmute()}},Z.prototype.unmute=function(){this.gainOutput.gain.value=this.volume},Z.prototype.mute=function(){this.gainOutput.gain.value=0},Z.prototype.toggleMute=function(){0===this.gainOutput.gain.value?this.unmute():this.mute()},Z.prototype.getEffect=function(t){return this.effects.find(function(e){return e.name===t})||null};var K=function(t){function e(e){t.call(this,Object.assign({},e,{destination:J.context.destination}))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Z),J=function(){};J.trigger=function(t,e){if(void 0===e&&(e=null),void 0===J.audios[t])throw new Error('"'+t+'" audio not found');var n=new N(Object.assign({},J.audios[t],{name:t}));return console.log("TRIGGER SOUND "+t),null!==e?n.fadeInAndStart(e):n.start(),n},J.getChannel=function(t){return J.channels.find(function(e){return e.name===t})||null},J.init=function(t){if(!J.context)throw"You must start before calling init";var e=new K(t.master);e.name="master",J.channels.push(e);for(var n=0;n<t.channels.length;n++){J.channels.push(new Z(Object.assign({},t.channels[n],{destination:e.gainOutput})))}},J.load=function(t){void 0===t&&(t={});var e=t.groups;void 0===e&&(e=[]);var n=t.onProgress;void 0===n&&(n=null);var i=t.onComplete;void 0===i&&(i=null);try{var o=[],r=0;for(var s in J.audios){if(e.includes(J.audios[s].loadGroup)){var a=N.loadBuffer(s);o.push(a),a.then(function(){r++,n&&n(r/o.length)})}}return Promise.resolve(Promise.all(o).then(function(){i&&i()}))}catch(t){return Promise.reject(t)}},J.start=function(){J.context=new AudioContext},J.channels=[],J.audios={};var tt=function(t){void 0===t&&(t={});var e=t.url;void 0===e&&(e=null),this.url=e,this.connected=!1,this.socket=null,this.events={}};tt.prototype.addEvents=function(){this.socket.addEventListener("close",this._onClose.bind(this)),this.socket.addEventListener("error",this._onError.bind(this)),this.socket.addEventListener("message",this._onMessage.bind(this))},tt.prototype.removeEvents=function(){this.socket.addEventListener("close",this._onClose.bind(this)),this.socket.addEventListener("error",this._onError.bind(this)),this.socket.addEventListener("message",this._onMessage.bind(this))},tt.prototype.openSocket=function(){var t=this;return new Promise(function(e,n){var i=new WebSocket(t.url);i.onopen=function(){t.connected=!0,t.socket=i,t.addEvents(),e()}})},tt.prototype.closeSocket=function(){this.removeEvents(),this.connected=!1,this.socket=null},tt.prototype._onClose=function(t){},tt.prototype._onError=function(t){},tt.prototype._onMessage=function(t){var e=JSON.parse(t.data);this._callEventListeners(e.type,e.data)},tt.prototype._callEventListeners=function(t,e){if(this.events[t])for(var n=this.events[t].length-1;n>=0;n--){var i=this.events[t][n];i&&i(e)}},tt.prototype.on=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e)},tt.prototype.emit=function(t,e){try{var n=this;function i(){n.socket.send(JSON.stringify({type:t,data:e}))}var o=function(){if(!n.connected)return Promise.resolve(n.openSocket()).then(function(){})}();return o&&o.then?o.then(i):i()}catch(t){return Promise.reject(t)}},tt.prototype.off=function(t,e){var n=this.events[t].indexOf(e);~n&&this.events[t].splice(n,1)},tt.prototype.offAll=function(t){this.events[t]=[]};var et=function(t){this.worker=t};et.prototype.pingPongMessage=function(t){try{var e=this,n=o.generateUid();return new Promise(function(i,o){e.worker.postMessage({message:t,id:n});var r=function(t){t.data.id===n&&(e.worker.removeEventListener("message",r),i(t.data.value))};e.worker.addEventListener("message",r)})}catch(t){return Promise.reject(t)}};var nt=function(){};nt.proxy=function(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=function(){}),new Proxy(n,{get:function(n,i,o){if("then"===i&&0===e.length)return{then:function(){return o}};if("then"===i){var r=t.pingPongMessage({type:"GET",callPath:e});return Promise.resolve(r).then.bind(r)}return nt.proxy(t,e.concat(i))},apply:function(n,i,o){return"bind"===e[e.length-1]?nt.proxy(t,e.slice(0,-1)):t.pingPongMessage({type:"APPLY",callPath:e,argumentsList:o})},construct:function(n,i){try{return Promise.resolve(t.pingPongMessage({type:"CONSTRUCT",callPath:e,argumentsList:i})).then(function(){return nt.proxy(t)})}catch(t){return Promise.reject(t)}},set:function(n,i,o,r){return t.pingPongMessage({type:"SET",callPath:e,property:i,value:o})}})},nt.spawn=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];try{var i=URL.createObjectURL(new Blob(["("+'function exposeWorker(target) {\n    let instance = null;\n\n    const TYPED_ARRAY_TYPES = [\n        Int8Array,\n        Uint8Array,\n        Uint8ClampedArray,\n        Int16Array,\n        Uint16Array,\n        Int32Array,\n        Uint32Array,\n        Float32Array,\n        Float64Array\n    ];\n\n    function isTransferable(obj) {\n        for (let i = 0; i < TYPED_ARRAY_TYPES.length; i++) {\n            const typedArray = TYPED_ARRAY_TYPES[i];\n            if (obj instanceof typedArray) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    function transferableProperties(obj) {\n        const transferables = [];\n\n        for (let property in obj) {\n            const value = obj[property];\n            if (isTransferable(value)) {\n                transferables.push(value.buffer);\n            }\n        }\n\n        return transferables;\n    }\n\n    function getObjValueAtPath(callPath = [], target = null) {\n        if (!target) {\n            return null;\n        }\n\n        let obj = target;\n\n        for (let i = 0; i < callPath.length; i++) {\n            const subPath = callPath[i];\n            obj = obj[subPath];\n        }\n\n        return obj;\n    }\n\n    self.addEventListener("message", async event => {\n        const { message, id } = event.data;\n\n        let response = {\n            id\n        };\n\n        let obj = getObjValueAtPath(message.callPath, instance);\n\n        switch (message.type) {\n            case "APPLY":\n                response.value = await obj.apply(obj, message.argumentsList);\n                break;\n            case "GET":\n                response.value = obj;\n                break;\n            case "SET":\n                obj[message.property] = message.value;\n                response.value = true;\n                break;\n            case "CONSTRUCT":\n                instance = new target(...message.argumentsList);\n                response.value = instance;\n                break;\n        }\n\n        self.postMessage(response, transferableProperties(response.value));\n    });\n}'.toString()+")("+t.toString()+")"])),o=new Worker(i),r=new et(o),s=nt.proxy(r);return Promise.resolve(new(Function.prototype.bind.apply(s,[null].concat(e))))}catch(t){return Promise.reject(t)}};var it=function(){};it.enterFullScreen=function(){["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"].every(function(t){if(void 0===document.body[t])return!0;document.body[t]()})},it.leaveFullScreen=function(){["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"].every(function(t){if(void 0===document[t])return!0;document[t]()})};var ot=function(t){void 0===t&&(t={});var e=t.target;void 0===e&&(e=null);var n=t.el;void 0===n&&(n=e);var i=t.usePhysics;void 0===i&&(i=!0);var r=t.constraints;void 0===r&&(r=[]);var s=t.min;void 0===s&&(s=null);var a=t.max;void 0===a&&(a=null);var u=t.snap;void 0===u&&(u=null);var c=t.axis;void 0===c&&(c=["x","y"]);var l=t.onUpdate;if(void 0===l&&(l=null),!e)throw new Error("A target is required");this.usePhysics=i,this.constraints=r,this.position=new h,this.overdragCoefficient=.15,this.frictionCoefficient=.01,this.dragging=!1,this.min=s,this.max=a,this.snap=u,this.axis=c,this.target=e,this.interaction=new T({target:C.getEl(e)}),this.decelerationStartPosition=new h,this.decelerationVelocity=new h,this.startDragPosition=new h,this.decelerationStartTime=0,this.isDecelerating=!1,this.isSimulatingMovement=!1,this._violationConstraint={x:null,y:null},this.onUpdateCallback=l,this.__uid__=o.generateUid(),this._addEvents()},rt={violatedConstraint:{configurable:!0},hasHighVelocity:{configurable:!0},hasSnaped:{configurable:!0}};ot.prototype._addEvents=function(){this.interaction.on(x.DRAG,this.onDrag.bind(this)),this.interaction.on(x.DROP,this.onDrop.bind(this)),this.interaction.on(x.TOUCH,this.onTouch.bind(this)),i.start(this.onUpdate.bind(this),this.__uid__)},ot.prototype._removeEvents=function(){this.interaction.off(x.DRAG,this.onDrag.bind(this)),this.interaction.off(x.DROP,this.onDrop.bind(this)),this.interaction.off(x.TOUCH,this.onTouch.bind(this)),i.stop(this.__uid__)},ot.prototype.stop=function(){this._removeEvents()},ot.prototype.onUpdate=function(){this.usePhysics&&this.isDecelerating&&(this._animateMomentum(),this._checkBounds(),null===this._violationConstraint.x&&null===this._violationConstraint.y||(this._animateConstraintViolation(),this.isDecelerating=!1)),this.onUpdateCallback&&this.onUpdateCallback(this.position)},ot.prototype._checkBounds=function(){for(var t=0;t<this.axis.length;t++){var e=this.axis[t],n=!!this.max&&this.position[e]>this.max[e];n||!!this.min&&this.position[e]<this.min[e]?(this.interaction._delta[e]*=this.overdragCoefficient,this._violationConstraint[e]=n?this.max[e]:this.min[e]):this._violationConstraint[e]=null}},ot.prototype.onDrag=function(){this.dragging=!0,this.usePhysics&&this._checkBounds(),this.position.add(this.interaction._delta),!this.usePhysics&&this.min&&this.max&&this.position.clamp(this.min,this.max)},ot.prototype._animateConstraintViolation=function(){for(var t=this,e={obj:this.position,duration:.4,ease:n.OutQuint,onComplete:function(){t.dragging=!1}},i=0,o=this.axis;i<o.length;i+=1){var r=o[i];null!==this._violationConstraint[r]&&(e[r]=this._violationConstraint[r])}R.to(e)},ot.prototype._animateMomentum=function(){for(var t=(performance.now()-this.decelerationStartTime)/600,e=0,n=this.axis;e<n.length;e+=1){var i=n[e],o=this.decelerationStartPosition[i]+this.decelerationVelocity[i]*Math.pow(this.frictionCoefficient,t)/Math.log(this.frictionCoefficient)-this.decelerationVelocity[i]/Math.log(this.frictionCoefficient);this.isDecelerating=o-this.position[i]!=0,this.position[i]=o}},ot.prototype._animateSnaping=function(){for(var t=this,e={obj:this.position,duration:.4,ease:n.OutQuint,onComplete:function(){t.dragging=!1}},i=0,o=this.axis;i<o.length;i+=1){var r=o[i];null!==this.snap[r]&&(e[r]=u.roundToNearest(this.position[r],this.snap[r]))}R.to(e)},ot.prototype.reset=function(){this.interaction.reset(),this.decelerationStartPosition=new h,this.decelerationVelocity=new h,this.startDragPosition=new h,this.position=new h,this.decelerationStartTime=0,this.isDecelerating=!1,this.isSimulatingMovement=!1,this._violationConstraint={x:null,y:null}},ot.prototype.onTouch=function(){R.clear(this.position),this.isDecelerating=!1,this.startDragPosition.copy(this.position)},rt.violatedConstraint.get=function(){return null!==this._violationConstraint.x||null!==this._violationConstraint.y},rt.hasHighVelocity.get=function(){return null!==this.snap&&(Math.abs(this.interaction.velocity.x)>300||Math.abs(this.interaction.velocity.y)>300)},rt.hasSnaped.get=function(){return null!==this.snap&&(this.position.x%this.snap.x!=0||this.position.y%this.snap.y!=0)},ot.prototype._triggerDropAnimation=function(){this.usePhysics&&this.violatedConstraint?this._animateConstraintViolation():this.usePhysics&&this.hasHighVelocity?this._simulateMovement():this.usePhysics&&this.hasSnaped?this._animateSnaping():this.usePhysics&&(this.isDecelerating=!0)},ot.prototype._simulateMovement=function(){for(var t=this,e={obj:this.position,duration:.4,ease:n.OutQuint,onUpdate:function(){t.min&&t.max&&t.position.clamp(t.min,t.max)}},i=0,o=this.axis;i<o.length;i+=1){var r=o[i];null!==this.snap[r]&&(e[r]=u.roundToNearest(this.startDragPosition[r],this.snap[r])+Math.sign(this.decelerationVelocity[r])*this.snap[r])}R.to(e)},ot.prototype.onDrop=function(){this.decelerationStartTime=performance.now(),this.decelerationVelocity.copy(this.interaction.velocity),this.decelerationStartPosition.copy(this.position),this._triggerDropAnimation()},Object.defineProperties(ot.prototype,rt);var st=function(){this.start(),this.callbacks={greaterThan:[],between:[],lessThan:[],defaults:[]}};st.prototype.lessThan=function(t,e){var n={value:t,callback:e};this.isLessThan(n)&&n.callback(),this.callbacks.lessThan.push(n)},st.prototype.greaterThan=function(t,e){var n={value:t,callback:e};this.isGreaterThan(n)&&n.callback(),this.callbacks.greaterThan.push(n)},st.prototype.between=function(t,e,n){var i={min:t,max:e,callback:n};this.isBetween(i)&&i.callback(),this.callbacks.between.push(i)},st.prototype.base=function(t){this.callbacks.defaults.push({callback:t})},st.prototype.start=function(){w.on(b.RESIZE,this.onResize.bind(this))},st.prototype.stop=function(){w.off(b.RESIZE,this.onResize.bind(this))},st.prototype.isBetween=function(t){return window.innerWidth>=t.min&&window.innerWidth<=t.max},st.prototype.isGreaterThan=function(t){return t.value<window.innerWidth},st.prototype.isLessThan=function(t){return t.value>window.innerWidth},st.prototype.onResize=function(){for(var t=this.callbacks.lessThan.length-1;t>=0;t--){var e=this.callbacks.lessThan[t];if(this.isLessThan(e))e.callback();else for(var n=this.callbacks.defaults.length-1;t>=0;t--)this.callbacks.defaults[n].callback()}for(var i=this.callbacks.greaterThan.length-1;i>=0;i--){var o=this.callbacks.greaterThan[i];this.isGreaterThan(o)&&o.callback()}for(var r=this.callbacks.between.length-1;r>=0;r--){var s=this.callbacks.between[r];this.isBetween(s)&&s.callback()}};var at="\nclass DecodeImageThread {\n  async decodeImage(imagePath) {\n    const response = await fetch(imagePath);\n    const blob = await response.blob();\n    const bitmap = await createImageBitmap(blob);\n    return bitmap;\n  }\n}",ut=function(){};ut.load=function(t,e){var n=e.onStart;void 0===n&&(n=null);var i=e.onProgress;void 0===i&&(i=null);var o=e.onComplete;void 0===o&&(o=null);try{return Promise.resolve(nt.spawn(at)).then(function(e){var r=[],s=0,a=function(n){r.push(e.decodeImage(t[n]).then(function(t){ut.images[n]=t,s++,i&&i(s/r.length)}))};for(var u in t)a(u);return n&&n(r.length),Promise.resolve(Promise.all(r).then(function(){o&&o()}))})}catch(t){return Promise.reject(t)}},ut.get=function(t){return ut.images[t]},ut.images={};var ht=function(){};ht.imageFromBitmap=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),e};var ct=function(){};ct.get=function(t){void 0===t&&(t={});var e=t.url,n=t.queryParams;void 0===n&&(n={});var i=t.headers;void 0===i&&(i={});try{return Promise.resolve(ct.request({url:e,queryParams:n,type:"GET"}))}catch(t){return Promise.reject(t)}},ct.request=function(t){return new Promise(function(e,n){var i=new XMLHttpRequest;for(var o in i.open(t.type,t.url,!0),i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var t={body:i.responseText,status:i.status,statusText:i.statusText,headers:i.getAllResponseHeaders()};e(t)}},t.headers)i.setRequestHeader(o,t.headers[o]);i.send(t.body||null)})},ct.post=function(t){void 0===t&&(t={});var e=t.url,n=t.body;void 0===n&&(n=null);var i=t.headers;void 0===i&&(i={});try{return Promise.resolve(ct.request({url:e,body:n,type:"POST"}))}catch(t){return Promise.reject(t)}};var lt=function(){};lt.load=function(t,e){var n=t.fonts;void 0===n&&(n=[]);var i=e.onStart;void 0===i&&(i=null);var o=e.onProgress;void 0===o&&(o=null);var r=e.onComplete;void 0===r&&(r=null);try{for(var s=[],a=0,u=0,h=n;u<h.length;u+=1){s.push(lt.loadFont(h[u]).then(function(){a++,o&&o(a)}))}return i&&i(s.length),Promise.resolve(Promise.all(s).then(function(){r&&r()}))}catch(t){return Promise.reject(t)}},lt.loadFont=function(t){var e=document.createElement("span");return e.style.opacity=0,e.innerText="Hello",e.style.fontFamily="Circular Std",e.style.pointerEvents="none",e.style.position="absolute",document.body.appendChild(e),ct.get({url:t.url}).then(function(){document.body.removeChild(e)})},exports.FontLoader=lt,exports.HttpClient=ct,exports.DecodeImageThread=at,exports.ImageLoader=ut,exports.EventEmitter=g,exports.TweenManager=R,exports.Component=E,exports.Ease=n,exports.SuperMath=u,exports.SuperDom=U,exports.Vector2=h,exports.Matrix2=M,exports.Device=y,exports.Color=L,exports.Mouse=A,exports.SuperString=s,exports.Create=j,exports.Router=H,exports.Route=Y,exports.Accelerometer=G,exports.Scrollable=F,exports.Canvas=B,exports.Object2D=q,exports.Interaction=T,exports.InteractionTypes=x,exports.Render=i,exports.SuperAudioManager=J,exports.SuperSocketManager=tt,exports.SuperCrypto=o,exports.ThreadManager=nt,exports.SuperWindow=w,exports.WindowEventsTypes=b,exports.Screen=it,exports.File=function(){},exports.Draggable=ot,exports.MediaQuery=st,exports.SuperCanvasUtils=ht;
